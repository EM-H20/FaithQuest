<!--
* FaithQuest 통계 페이지
* 
* 1. 기간별 통계
*    - 시작일/종료일 선택
*    - 기간별 출석률 추이
*    - 직분별 출석 현황
* 
* 2. 데이터 시각화
*    - 출석률 그래프 (Chart.js)
*    - 직분별 분포도
*    - 연령대별 분포도
* 
* 3. 요약 정보
*    - 전체 등록 인원
*    - 평균 출석률
*    - 최근 30일 추이
*    - 직분별 인원 현황
-->

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="../images/onlyLogo.png" />
    <title>은샘침례교회-통계_보기</title>
    <link rel="stylesheet" href="../CSS/style.css" />
    <link rel="stylesheet" href="../CSS/components.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <a href="index.html" class="back-button">
          <span class="icon">←</span>
          <span>돌아가기</span>
        </a>
        <h1>통계 보기</h1>
      </header>

      <main>
        <div class="statistics-card">
          <div class="card-header">
            <div class="form-icon">
              <img src="../images/onlyLogo.png" alt="통계 아이콘" />
            </div>
            <h2>통계 현황</h2>
          </div>

          <div class="statistics-controls">
            <div class="control-row">
              <div class="date-picker-wrapper">
                <label>기간 선택</label>
                <div class="date-range">
                  <input type="date" id="startDate" class="date-picker" />
                  <span class="date-separator">~</span>
                  <input type="date" id="endDate" class="date-picker" />
                </div>
              </div>
              <button id="updateStats" class="submit-button">
                <span>조회</span>
                <div class="button-icon">↻</div>
              </button>
            </div>
          </div>

          <div class="statistics-grid">
            <div class="stat-card">
              <h3>전체 등록 현황</h3>
              <div class="stat-content">
                <canvas id="roleChart"></canvas>
              </div>
            </div>

            <div class="stat-card">
              <h3>월별 등록 현황</h3>
              <div class="stat-content">
                <canvas id="registrationChart"></canvas>
              </div>
            </div>
            <div class="stat-card">
              <h3>출석률</h3>
              <div class="stat-content">
                <canvas id="attendanceChart"></canvas>
              </div>
            </div>

            <div class="stat-card summary-card">
              <h3>요약</h3>
              <div class="stat-summary">
                <div class="summary-item">
                  <span class="label">전체 등록인원</span>
                  <span id="totalMembers" class="value">0명</span>
                </div>
                <div class="summary-item">
                  <span class="label">이번달 신규등록</span>
                  <span id="newMembers" class="value">0명</span>
                </div>
                <div class="summary-item">
                  <span class="label">평균 출석률</span>
                  <span id="avgAttendance" class="value">0%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
    <script src="../JAVASCRIPT/utils.js"></script>
    <script src="../JAVASCRIPT/statistics.js"></script>
  </body>
</html>
